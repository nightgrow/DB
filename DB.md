# DATABASE
## 데이터베이스
### 정의
- 통합/저장된 운영 데이터의 집합
    - 통합된 데이터: 하나의 데이터베이스에는 같은 데이터가 중복되어 있지 않지만 효율 증진을 위한 의도적 중복은 허용(최소의 중복, 통제된 중복)
    - 저장된 데이터: 컴퓨터가 접근 가능한 저장 매채에 저장 관리
    - 운영 데이터: 고유 기능을 수행하기 위해 필요한 데이터
    - 공용 데이터: 여러 응용 프로그램이 공동으로 소유, 유지, 이용하는 데이터
  
### 특징
- 실시간 접근성: 실시간 처리 및 응답할 수 있어야 한다
- 계속적인 변화: 새로운 데이터의 삽입, 기존 데이터의 삭제, 갱신 데이터에 대해 정확한 데이터를 유지해야 한다
- 동시 공용: 동시에 원하는 데이터에 접근하고 사용할 수 있어야 한다
- 내용에 의한 참조: 데이터의 참조는 값(사용자가 요구하는 내용)에 따라 참조된다
  
### 구성 요소

1. 개체(튜플)
   - 테이블의 행
   - 몇 개의 애트리뷰트로 구성되어 있는 개념 정보 단위
   - 개체 타입: 속성 이름들만으로 기술된 개체의 정의
   - 개체 인스턴스: 속성에 구체적인 값을 실체한 값
   - 개체 집합: 개체 인스턴스의 집합
2. 속성
   - 태이블의 열을 나타낸다.
   - 자료 이름을 가진 최소 논리적 단위(객체의 성질, 상태)
   - 애트리뷰트 이름은 모두 달라야 한다
3. 관계
   - 애트리뷰트 관계와 엔티티 관계 등의 여러 가지 유형의 의미를 나타내는 것
   - 속성 관계와 개체 관계가 있다

***

## 데이터베이스 관리시스템
### DBMS
- 데이터의 종속성과 중복성을 피하기 위해 제안된 시스템
- 응용 프로그램과 데이터의 중재자로서 모든 응용 프로그램들이 데이터베이스를 공용할 수 있게 관리
    - 데이터 종속성: 데이터의 구조와 접근 방법의 변경 시이를 기초로 하는 프로그램도 같이 변경해야 한다
    - 데이터 중복성: 한 시스템에서 같은 내용의 데이터가 중복되게 저장/관리한다
        - 내부적 일관성, 보안성, 경제성, 무결성 문제가 생김

### DBMS 기능
1. 정의 기능: 하나의 데이터베이스 저장 형태로 여러 사용자들이 요구하는 대로 데이터를 조직하는 기능
    - 논리적 구조와 특성을 데이터 모델에 따라 명세
    - 물리적인 구조 명세
    - 물리적 구조와 논리적 구조간의 변환이 가능하도록 mapping 명세
2. 조작 기능: 사용자의 요구에 따라 체계적으로 처리하고 조작하는 기능, 연산을 지원하는 도구를 통해 구현
    - 사용이 쉬워야 한다
    - 명확하고 완전해야 한다
    - 효율적이어야 한다
3. 제어 기능: 내용을 정확히 유지하는 기능
    - 보안과 권한의 검사
    - 데이터 무결성(정확성)의 제어
    - 병행 제어

### DBMS의 장단점
1. 장점
   - 데이터 중복의 최소화
   - 데이터의 일관성
   - 데이터 공유
   - 표준화 용이
   - 데이터의 보안 보장
   - 데이터의 무결성
   - 전체 데이터 요구의 파악 조정
2. 단점
   - 시스템 운영비 증대
   - 시스템 내부적으로 자료 처리 방법이 복잡
   - backup과 recovery기법의 어려움 -> 장애 발생 시 조치가 어렵다
   - 시스템 취약성 존재

***

## 관계 데이터베이스 시스템
### 기본 용어
1. 릴레이션: 같은 성격의 데이터들의 집합(테이블)
2. 도메인: 하나의 애트리뷰트가 취할 수 있는 같은 타입의 모든 원자값의 집합, 반드시 명세되어야 함
3. 카디널리티: 튜플의 수
4. 릴레이션 스킴: 릴레이션 이름과 애트리뷰트의 집합이며 릴레이션의 논리적 구조를 서술, 일정 수의 애트리뷰트 집합으로 구성(릴레이션 내포)
5. 릴레이션 인스턴스: 릴레이션이 포함하고 있는 튜플의 집합이며 스킴에 정의된 각 애트리뷰트에 대응되는 겂으로 구성
6. 정규 릴레이션: 반복 그룹을 애트리뷰트 값으로 포함시키지 않은 릴레이션
7. 릴레이션 차수: 한 릴레이션의 애트리뷰트 개수
8. 튜플: 각 애트리뷰트 값에 대응하는 값이며 도메인의 원소값

### 릴레이션 특성
1. 튜플의 유일성: 한 릴레이션에 포함된 튜플은 모두 상이하다
2. 튜플의 무순서성: 한 릴레이션에 포함된 튜플들 사이에는 순서가 없다
3. 애트리뷰트의 무순서성: 한 릴레이션에 포함된 애트리뷰트 사이에는 순서가 없다
4. 애트리뷰트의 원자성: 모든 애트리뷰트 값은 원자값이다

### 관계 데이터 제약
1. 키: 튜플을 유일하게 식별할 수 있는 최소한의 애트리뷰트이며 유일성, 최소성을 만족해야 한다
    1. 슈퍼키: 구분할 수 있는 애트리뷰트이며 식별할 수 있으면 가능(유일성만 가지고 있다)
    2. 후보키: 최소한의 애트리뷰트의 집합으로 모든 릴레이션은 적어도 하나의 후보키를 가진다(슈퍼키+최소성)
    3. 기본키: 호부키들 중 하나를 선정하여 주로 사용하는 키
    4. 대체키: 후보키 중 기본키가 아닌 나머지 키
    5. 외래키: 다른 릴레이션에서 기본키로 사용되어지는 키

### 데이터 무결성
1. 무결성 제약 조건
   - 도메인 무결성 제약: 도메인 값의 범위를 만족해야 한다
   - 키 무결성 제약: 중복된 값이 존재해서는 안 된다
   - 개체 무결성 제약: 기본키를 구성하는 속성의 어떤 값도 NULL 값일 수 없다
   - 참조 무결성 제약: 대응이 안 되는 외래 키 값을 가질 수 없다
  2. DBMS가 제공하는 옵션
   - 제한: 위배를 야기한 연산을 단순히 거절하는 것
   - 연쇄: 트퓰을 참조하는 튜플들도 모두 삭제
   - 널 값: 튜플들을 참조하는 튜플들의 외래키에 NULL 값 삽입
   - 디폴트값: NULL 대신 디폴트 값을 삽입

***

### 정규화
- 관계형 데이터베이스의 설계에서 중복을 최소화하게 데이터를 구조화하는 프로세스
- 정규화의 목적
  1. 데이터베이스의 변경 시 이상 현상 제거
    - 갱신 이상: 같은 정보가 복수개의 행에서 표현되어 갱신이 논리적인 모순을 낳는 현상
    - 삽입 이상: 특정 사실이 전혀 기록되지 않는 현상
    - 삭제 이상: 데이터의 삭제가 전혀 다른 사실에 대한 데이터의 삭제를 필요로 하는 현상
  2. 구조 확장 시 재 디자인 최소화: 구조를 변경하지 않거나 일부만 변경하여 연결된 응용 프로그램에 최소한의 영향만을 준다
  3. 사용자에게 데이터 모델을 더욱 의미있게 한다
  4. 다양한 질의 지원: 예측되지 않은 장래의 질의 등 어떠한 질의도 지원한다

1. 제 1정규형(1NF)
    - 엔티티에서 하나의 속성이 복수개의 값을 가지도록 설계되어 있을 때 하나의 속성이 단일 값을 갖도록 설계
    - 최소한 테이블은 관계여야 한다
    - 중복되는 항목이 없어야 한다

2. 제 2정규형(2NF)
    - 일부 속성에 종속된 속성(부분 함수 종속성)을 찾아 제거하는 과정
    - 제 1정규형에 속하면서 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속된다

3. 제 3정규형(3NF)
    - 제 2정규형에 속하면서 기본키가 아닌 모든 속성이 기본키에 이행적 함수 종속(삼단논법 같은 관계를 가진 함수 종속)이 되지 않아야 한다
    - 종속관계에 있는 속성을 찾아 제거하는 과정

그 외에도 보이스-코드 정규형(BCNF) 등이 존재한다